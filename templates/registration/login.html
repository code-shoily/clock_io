{% extends 'layouts/base_centered.html' %}
{% load widget_tweaks %}

{% block title %}Login to Dashboard{% endblock %}

{% block content %}
  <div class="uk-card uk-card-default uk-card-body">
    <div class="uk-card-title">
      <h3 class="uk-heading-line uk-text-center"><span>User Log-in</span></h3>
    </div>
    <form method="post" novalidate>
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="uk-background-muted uk-panel">
          {% for non_field_error in form.non_field_errors %}
            <div class="uk-text-danger">{{ non_field_error }}</div>
          {% endfor %}
        </div>
      {% endif %}
      {% with WIDGET_ERROR_CLASS='uk-form-danger' %}
        <div class="uk-margin">
          <div class="uk-form-controls">
            <div class="uk-inline uk-width-1-1">
              <span class="uk-form-icon" uk-icon="icon: user"></span>
              {% render_field form.username class="uk-input" placeholder="Username" %}
            </div>
            {% for error in form.username.errors %}
              <div class="uk-text-danger form-error">{{ error }}</div>
            {% endfor %}
          </div>
        </div>
        <div class="uk-margin">
          <div class="uk-form-controls">
            <div class="uk-inline uk-width-1-1">
              <span class="uk-form-icon" uk-icon="icon: lock"></span>
              {% render_field form.password class="uk-input" placeholder="Password" %}
            </div>
            {% for error in form.password.errors %}
              <div class="uk-text-danger form-error">{{ error }}</div>
            {% endfor %}
          </div>
        </div>
      {% endwith %}
      <button class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom" type="submit">Login</button>
      <div class="uk-text-center uk-link-text uk-heading-line">
        <a href="/admin">Go to Admin Panel</a>
      </div>
    </form>
  </div>
{% endblock content %}
